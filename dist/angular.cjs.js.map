{"version":3,"file":"angular.cjs.js","sources":["../src/core/container.ts","../src/core/animation.ts","../src/dom/style.ts","../src/core/bro-toastify.tsx","../src/adapters/angular/index.ts"],"sourcesContent":["import { BroToastifyToastifyOptions } from \"./types\";\r\n\r\nconst containers: Map<string, HTMLElement> = new Map()\r\n\r\nexport function createContainer(position: BroToastifyToastifyOptions['position']): HTMLElement | null {\r\n    if (typeof window === 'undefined') {\r\n        return null; // Return null during SSR\r\n    }\r\n\r\n    if (containers.has(position!)) {\r\n        const existingContainer = containers.get(position!)!;\r\n        if (document.body.contains(existingContainer)) {\r\n            return existingContainer;\r\n        } else {\r\n            // Container exists in our map but not in DOM, re-append it\r\n            document.body.appendChild(existingContainer);\r\n            return existingContainer;\r\n        }\r\n    }\r\n    console.debug('Creating container for position:', position);\r\n\r\n\r\n    const container = document.createElement('div')\r\n    container.className = `broToastify-container broToastify-${position}`\r\n    container.setAttribute('role', 'region')\r\n    container.setAttribute('aria-live', 'polite')\r\n    container.setAttribute('aria-atomic', 'true')\r\n\r\n    switch (position) {\r\n        case 'top-right':\r\n            container.style.top = '1rem'\r\n            container.style.right = '1rem'\r\n            break\r\n        case 'top-left':\r\n            container.style.top = '1rem'\r\n            container.style.left = '1rem'\r\n            break\r\n        case 'top-center':\r\n            container.style.top = '1rem'\r\n            container.style.left = '50%'\r\n            container.style.transform = 'translateX(-50%)'\r\n            break\r\n        case 'bottom-right':\r\n            container.style.bottom = '1rem'\r\n            container.style.right = '1rem'\r\n            break\r\n        case 'bottom-left':\r\n            container.style.bottom = '1rem'\r\n            container.style.left = '1rem'\r\n            break\r\n        case 'bottom-center':\r\n            container.style.bottom = '1rem'\r\n            container.style.left = '50%'\r\n            container.style.transform = 'translateX(-50%)'\r\n            break\r\n        default:\r\n            console.error(`Invalid position: ${position}`);\r\n            break;\r\n    }\r\n\r\n    document.body.appendChild(container)\r\n\r\n    containers.set(position!, container)\r\n\r\n    return container\r\n}\r\n\r\n\r\nexport function getContainer(position: BroToastifyToastifyOptions[\"position\"]): HTMLElement | null {\r\n    if (typeof window === \"undefined\") {\r\n        return null // Return null during SSR\r\n    }\r\n\r\n    // If container exists, return it\r\n    if (containers.has(position!)) {\r\n        const container = containers.get(position!)!\r\n\r\n        // Make sure it's still in the DOM\r\n        if (!document.body.contains(container)) {\r\n            document.body.appendChild(container)\r\n        }\r\n\r\n        return container\r\n    }\r\n\r\n    // Otherwise create a new one\r\n    return createContainer(position)\r\n}\r\n\r\n\r\nexport function removeAllContainers(): void {\r\n    if (typeof window === \"undefined\") {\r\n      return // Skip during SSR\r\n    }\r\n  \r\n    console.debug(\"Removing all containers\")\r\n    containers.forEach((container) => {\r\n      if (document.body.contains(container)) {\r\n        container.remove()\r\n      }\r\n    })\r\n    containers.clear()\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n","\r\nexport type AnimationType = 'fade' | 'slide' | 'zoom' | 'flip' | 'bounce' | 'none';\r\n\r\nexport type AnimationDirection = 'top' | 'right' | 'bottom' | 'left';\r\n\r\nexport interface AnimationOptions {\r\n  type: AnimationType;\r\n  duration: number;\r\n  direction?: AnimationDirection;\r\n  easing?: string;\r\n}\r\n\r\nexport const defaultAnimationOptions: AnimationOptions = {\r\n  type: 'fade',\r\n  duration: 300,\r\n  easing: 'ease'\r\n};\r\n\r\nexport function getAnimationKeyframes(type: AnimationType, direction?: AnimationDirection): string {\r\n  switch (type) {\r\n    case 'fade':\r\n      return `\r\n        @keyframes broToastify-fade-in {\r\n          from { opacity: 0; }\r\n          to { opacity: 1; }\r\n        }\r\n        @keyframes broToastify-fade-out {\r\n          from { opacity: 1; }\r\n          to { opacity: 0; }\r\n        }\r\n      `;\r\n    \r\n    case 'slide':\r\n      let translateFrom = 'translateY(-100%)';\r\n      let translateTo = 'translateY(0)';\r\n      \r\n      if (direction === 'right') {\r\n        translateFrom = 'translateX(100%)';\r\n        translateTo = 'translateX(0)';\r\n      } else if (direction === 'bottom') {\r\n        translateFrom = 'translateY(100%)';\r\n        translateTo = 'translateY(0)';\r\n      } else if (direction === 'left') {\r\n        translateFrom = 'translateX(-100%)';\r\n        translateTo = 'translateX(0)';\r\n      }\r\n      \r\n      return `\r\n        @keyframes broToastify-slide-in {\r\n          from { transform: ${translateFrom}; opacity: 0; }\r\n          to { transform: ${translateTo}; opacity: 1; }\r\n        }\r\n        @keyframes broToastify-slide-out {\r\n          from { transform: ${translateTo}; opacity: 1; }\r\n          to { transform: ${translateFrom}; opacity: 0; }\r\n        }\r\n      `;\r\n    \r\n    case 'zoom':\r\n      return `\r\n        @keyframes broToastify-zoom-in {\r\n          from { transform: scale(0.5); opacity: 0; }\r\n          to { transform: scale(1); opacity: 1; }\r\n        }\r\n        @keyframes broToastify-zoom-out {\r\n          from { transform: scale(1); opacity: 1; }\r\n          to { transform: scale(0.5); opacity: 0; }\r\n        }\r\n      `;\r\n    \r\n    case 'flip':\r\n      return `\r\n        @keyframes broToastify-flip-in {\r\n          from { transform: perspective(400px) rotateX(90deg); opacity: 0; }\r\n          to { transform: perspective(400px) rotateX(0deg); opacity: 1; }\r\n        }\r\n        @keyframes broToastify-flip-out {\r\n          from { transform: perspective(400px) rotateX(0deg); opacity: 1; }\r\n          to { transform: perspective(400px) rotateX(90deg); opacity: 0; }\r\n        }\r\n      `;\r\n    \r\n    case 'bounce':\r\n      return `\r\n        @keyframes broToastify-bounce-in {\r\n          0% { transform: scale(0.5); opacity: 0; }\r\n          50% { transform: scale(1.05); opacity: 0.8; }\r\n          100% { transform: scale(1); opacity: 1; }\r\n        }\r\n        @keyframes broToastify-bounce-out {\r\n          0% { transform: scale(1); opacity: 1; }\r\n          50% { transform: scale(1.05); opacity: 0.8; }\r\n          100% { transform: scale(0.5); opacity: 0; }\r\n        }\r\n      `;\r\n    \r\n    case 'none':\r\n    default:\r\n      return '';\r\n  }\r\n}\r\n\r\n\r\nexport function applyAnimation(\r\n  element: HTMLElement, \r\n  options: AnimationOptions = defaultAnimationOptions,\r\n  isEnter: boolean = true\r\n): void {\r\n  const { type, duration, easing } = options;\r\n  \r\n  if (type === 'none') return;\r\n  \r\n  const animationName = `broToastify-${type}-${isEnter ? 'in' : 'out'}`;\r\n  \r\n  element.style.animation = `${animationName} ${duration}ms ${easing} forwards`;\r\n  \r\n  // Clean up after animation completes\r\n  element.addEventListener('animationend', () => {\r\n    element.style.animation = '';\r\n  }, { once: true });\r\n}\r\n","import { getAnimationKeyframes } from \"../core/animation\"\r\n\r\n// Flag to track if styles have been injected\r\nlet stylesInjected = false\r\n\r\nexport function getBroToastifyStyles(): string {\r\n  return `\r\n    .broToastify-container {\r\n      position: fixed;\r\n      z-index: 9999;\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 0.5rem;\r\n      max-width: 100%;\r\n      max-height: 100vh;\r\n      overflow-y: auto;\r\n      padding: 1rem;\r\n    }\r\n    \r\n    .broToastify-notification {\r\n      position: relative;\r\n      min-width: 300px;\r\n      max-width: 500px;\r\n      padding: 1rem;\r\n      border-radius: 0.375rem;\r\n      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\r\n      overflow: hidden;\r\n      display: flex;\r\n      flex-direction: column;\r\n      opacity: 1 !important;\r\n      visibility: visible !important;\r\n    }\r\n\r\n    .broToastify-default {\r\n      background-color: rgb(240, 241, 240);\r\n      color: #333;\r\n    }\r\n    \r\n    .broToastify-success {\r\n      background-color: #10B981;\r\n      color: white;\r\n    }\r\n    \r\n    .broToastify-error {\r\n      background-color: #EF4444;\r\n      color: white;\r\n    }\r\n    \r\n    .broToastify-info {\r\n      background-color: #3B82F6;\r\n      color: white;\r\n    }\r\n    \r\n    .broToastify-warning {\r\n      background-color: #F59E0B;\r\n      color: white;\r\n    }\r\n\r\n    .broToastify-loader-container {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 0.5rem;\r\n    }   \r\n\r\n    .broToastify-loader {\r\n      border: 4px solid #f3f3f3;\r\n      border-top: 4px solid #3498db;\r\n      border-radius: 50%;\r\n      width: 20px;\r\n      height: 20px;\r\n      animation: spin 1s linear infinite;\r\n    }\r\n\r\n    .broToastify-loader-message {\r\n      font-size: 0.875rem;\r\n      color: #333;\r\n      animation: fadeIn 0.3s ease-in-out;\r\n    }\r\n\r\n    @keyframes spin {\r\n      0% { transform: rotate(0deg); }\r\n      100% { transform: rotate(360deg); }\r\n    }\r\n\r\n    @keyframes fadeIn {\r\n      0% { opacity: 0; transform: translateY(-10px); }\r\n      100% { opacity: 1; transform: translateY(0); }\r\n    }\r\n    \r\n    .broToastify-title {\r\n      font-weight: bold;\r\n      margin-bottom: 0.25rem;\r\n      font-size: 1rem;\r\n    }\r\n    \r\n    .broToastify-message {\r\n      font-size: 0.875rem;\r\n    }\r\n    \r\n    .broToastify-close {\r\n      position: absolute;\r\n      top: 0.5rem;\r\n      right: 0.5rem;\r\n      background: transparent;\r\n      border: none;\r\n      color: currentColor;\r\n      font-size: 1.25rem;\r\n      cursor: pointer;\r\n      opacity: 0.7;\r\n      transition: opacity 0.2s;\r\n    }\r\n    \r\n    .broToastify-close:hover {\r\n      opacity: 1;\r\n    }\r\n    \r\n    .broToastify-top-right {\r\n      top: 1rem;\r\n      right: 1rem;\r\n      align-items: flex-end;\r\n    }\r\n    \r\n    .broToastify-top-left {\r\n      top: 1rem;\r\n      left: 1rem;\r\n      align-items: flex-start;\r\n    }\r\n    \r\n    .broToastify-bottom-right {\r\n      bottom: 1rem;\r\n      right: 1rem;\r\n      align-items: flex-end;\r\n    }\r\n    \r\n    .broToastify-bottom-left {\r\n      bottom: 1rem;\r\n      left: 1rem;\r\n      align-items: flex-start;\r\n    }\r\n    \r\n    .broToastify-top-center {\r\n      top: 1rem;\r\n      left: 50%;\r\n      transform: translateX(-50%);\r\n      align-items: center;\r\n    }\r\n    \r\n    .broToastify-bottom-center {\r\n      bottom: 1rem;\r\n      left: 50%;\r\n      transform: translateX(-50%);\r\n      align-items: center;\r\n    }\r\n    \r\n    ${getAnimationKeyframes ? getAnimationKeyframes(\"fade\") : \"\"}\r\n    ${getAnimationKeyframes ? getAnimationKeyframes(\"slide\", \"top\") : \"\"}\r\n    ${getAnimationKeyframes ? getAnimationKeyframes(\"zoom\") : \"\"}\r\n    \r\n    @media (max-width: 576px) {\r\n      .broToastify-container {\r\n        width: 100%;\r\n        padding: 0 1rem;\r\n      }\r\n      \r\n      .broToastify-notification {\r\n        min-width: 100%;\r\n        max-width: 100%;\r\n      }\r\n      \r\n      .broToastify-top-center,\r\n      .broToastify-top-right,\r\n      .broToastify-top-left {\r\n        top: 0;\r\n        right: 0;\r\n        left: 0;\r\n        transform: none;\r\n      }\r\n      \r\n      .broToastify-bottom-center,\r\n      .broToastify-bottom-right,\r\n      .broToastify-bottom-left {\r\n        bottom: 0;\r\n        right: 0;\r\n        left: 0;\r\n        transform: none;\r\n      }\r\n    }\r\n  `\r\n}\r\n\r\nexport function injectStyles() {\r\n  if (typeof window === \"undefined\" || stylesInjected) return\r\n\r\n  const styleId = \"bro-toastify-styles\"\r\n  if (document.getElementById(styleId)) {\r\n    stylesInjected = true\r\n    return\r\n  }\r\n\r\n  try {\r\n    const style = document.createElement(\"style\")\r\n    style.id = styleId\r\n    style.innerHTML = getBroToastifyStyles()\r\n    document.head.appendChild(style)\r\n    stylesInjected = true\r\n    console.log(\"Bro-toastify styles injected\")\r\n  } catch (error) {\r\n    console.error(\"Failed to inject bro-toastify styles:\", error)\r\n  }\r\n}\r\n","import { BroToastify, BroToastifyToastifyOptions } from \"./types\";\r\nimport { createContainer } from './container';\r\nimport { injectStyles } from \"../dom/style\";\r\n\r\nif (typeof window !== 'undefined') {\r\n    injectStyles();\r\n}\r\n\r\n//Default\r\nconst defaultOptions: Partial<BroToastifyToastifyOptions> = {\r\n    type: \"default\",\r\n    duration: 3000,\r\n    position: \"top-right\",\r\n    dismissible: true,\r\n    pauseOnHover: true,\r\n    customIcon: undefined,\r\n    customClass: undefined,\r\n}\r\n\r\n// Store for active toasts\r\nconst broToastifys: Map<string, BroToastify> = new Map();\r\n\r\n//Event emitter for toast events\r\nconst listeners: Map<string, Function[]> = new Map();\r\n\r\n//Generate Unique Id\r\nconst generateId = () => {\r\n    return Date.now().toString(36) + Math.random().toString(36).substring(2, 5);\r\n}\r\n\r\n//Create toast function\r\nexport function createBroToastify(options: BroToastifyToastifyOptions): BroToastify | undefined {\r\n    if (typeof window === 'undefined') {\r\n        return undefined; // Prevent toast creation during SSR\r\n    }\r\n\r\n    const mergedOptions = { ...defaultOptions, ...options };\r\n    const id = generateId();\r\n\r\n    const BroToastify: BroToastify = {\r\n        ...mergedOptions,\r\n        id,\r\n        createdAt: Date.now(),\r\n    }\r\n\r\n    broToastifys.set(id, BroToastify);\r\n\r\n    //container exits\r\n    createContainer(mergedOptions.position!);\r\n\r\n    //Emit event\r\n    emit('create', BroToastify);\r\n\r\n    //Auto dismiss\r\n    if (mergedOptions.duration && mergedOptions.duration > 0) {\r\n        setTimeout(() => {\r\n            dismissBroToastify(id);\r\n        }, mergedOptions.duration);\r\n    }\r\n\r\n    return BroToastify\r\n}\r\n\r\n//dismiss broToastify\r\nexport function dismissBroToastify(id: string): void {\r\n    if (typeof window === \"undefined\") {\r\n      return // Skip during SSR\r\n    }\r\n  \r\n    const BroToastify = Array.from(broToastifys.values()).find((t) => t.id === id)\r\n  \r\n    if (BroToastify) {\r\n      broToastifys.delete(id) // Remove the toast from the Map\r\n      emit(\"dismiss\", BroToastify)\r\n  \r\n      if (BroToastify.onClose) {\r\n        BroToastify.onClose()\r\n      }\r\n    }\r\n  }\r\n\r\n//clear all broToastify\r\nexport function clearBroToastify(): void {\r\n    if (typeof window === 'undefined') {\r\n        return; // Prevent execution during SSR\r\n    }\r\n\r\n    const allBroToastifys = Array.from(broToastifys.values());\r\n    allBroToastifys.forEach((broToastify) => {\r\n        dismissBroToastify(broToastify.id);\r\n    })\r\n}\r\n\r\n\r\n//subscribe to event\r\nexport function on(event: string, callback: Function): { off: () => void } {\r\n    if (!listeners.has(event)) {\r\n        listeners.set(event, []);\r\n    }\r\n\r\n    listeners.get(event)!.push(callback);\r\n\r\n    //return unsubscribe function\r\n    return {\r\n        off: () => {\r\n            const callbacks = listeners.get(event);\r\n            if (callbacks) {\r\n                const index = callbacks.indexOf(callback);\r\n                if (index !== -1) {\r\n                    callbacks.splice(index, 1);\r\n                }\r\n            }\r\n        },\r\n    }\r\n}\r\n\r\n//emit event\r\nfunction emit(event: string, data: any): void {\r\n    const callbacks = listeners.get(event);\r\n    if (callbacks) {\r\n        callbacks.forEach((callback) => callback(data));\r\n    }\r\n}\r\n\r\n//convenience methods\r\nconst toast = {\r\n    show: (message: string, options?: Partial<BroToastifyToastifyOptions>) =>\r\n        createBroToastify({ message, type: 'show', ...options }),\r\n    success: (message: string, options?: Partial<BroToastifyToastifyOptions>) =>\r\n        createBroToastify({ message, type: 'success', ...options }),\r\n    error: (message: string, options?: Partial<BroToastifyToastifyOptions>) =>\r\n        createBroToastify({ message, type: 'error', ...options }),\r\n    info: (message: string, options?: Partial<BroToastifyToastifyOptions>) =>\r\n        createBroToastify({ message, type: 'info', ...options }),\r\n    warning: (message: string, options?: Partial<BroToastifyToastifyOptions>) =>\r\n        createBroToastify({ message, type: 'warning', ...options }),\r\n    loading: (message: string, options?: Partial<BroToastifyToastifyOptions>) =>\r\n        createBroToastify({ message, type: 'loading', ...options }),\r\n    promises: (\r\n        promise: Promise<any>,\r\n        message: { loading: string, success: string, error: string },\r\n        options?: Partial<BroToastifyToastifyOptions>\r\n    ) => {\r\n        if (typeof window === 'undefined') {\r\n            return undefined; // Prevent execution during SSR\r\n        }\r\n\r\n        const id = generateId();\r\n\r\n        createBroToastify({ id, message: message.loading, type: 'loading', ...options });\r\n\r\n        promise\r\n            .then((result) => {\r\n                dismissBroToastify(id)\r\n                createBroToastify({ message: message.success, type: 'success', ...options });\r\n                return result\r\n            })\r\n            .catch((error) => {\r\n                dismissBroToastify(id)\r\n                createBroToastify({ message: message.error, type: 'error', ...options });\r\n                throw error\r\n            });\r\n        return { id };\r\n    },\r\n    isToastActive: (id: string): boolean => {\r\n        return !!Array.from(broToastifys.values()).find((toast) => toast.id === id);\r\n    },\r\n    dismiss: (id: string) => dismissBroToastify(id),\r\n    dismissible: (id: string) => dismissBroToastify(id),\r\n    clearAll: clearBroToastify,\r\n}\r\n\r\nexport default toast;\r\n\r\n\r\n","\r\nimport toast, { on } from '../../core/bro-toastify';\r\nimport { BroToastify, BroToastifyToastifyOptions } from '../../core/types';\r\nimport { injectStyles } from '../../dom/style';\r\n\r\n// Toast service for Angular\r\nexport class ToastService {\r\n  constructor() {\r\n    // Inject styles when service is instantiated\r\n    if (typeof window !== 'undefined') {\r\n      injectStyles();\r\n    }\r\n  }\r\n\r\n  show(message: string, options?: Partial<BroToastifyToastifyOptions>) {\r\n    return toast.show(message, options);\r\n  }\r\n\r\n  success(message: string, options?: Partial<BroToastifyToastifyOptions>) {\r\n    return toast.success(message, options);\r\n  }\r\n\r\n  error(message: string, options?: Partial<BroToastifyToastifyOptions>) {\r\n    return toast.error(message, options);\r\n  }\r\n\r\n  info(message: string, options?: Partial<BroToastifyToastifyOptions>) {\r\n    return toast.info(message, options);\r\n  }\r\n\r\n  warning(message: string, options?: Partial<BroToastifyToastifyOptions>) {\r\n    return toast.warning(message, options);\r\n  }\r\n\r\n  dismiss(id: string) {\r\n    toast.dismissible(id);\r\n  }\r\n\r\n  clearAll() {\r\n    toast.clearAll();\r\n  }\r\n}\r\n\r\n// Component class for ToastContainer\r\nexport class ToastContainerComponent {\r\n  position: BroToastifyToastifyOptions['position'] = 'top-right';\r\n  newestOnTop: boolean = true;\r\n  toasts: BroToastify[] = [];\r\n\r\n  private createUnsubscribe: (() => void) | null = null;\r\n  private dismissUnsubscribe: (() => void) | null = null;\r\n\r\n  ngOnInit() {\r\n    // Subscribe to toast events\r\n    const createSubscription = on('create', (toast: BroToastify) => {\r\n      if (toast.position === this.position) {\r\n        if (this.newestOnTop) {\r\n          this.toasts = [toast, ...this.toasts];\r\n        } else {\r\n          this.toasts = [...this.toasts, toast];\r\n        }\r\n      }\r\n    });\r\n    this.createUnsubscribe = createSubscription.off;\r\n\r\n    const dismissSubscription = on('dismiss', (toast: BroToastify) => {\r\n      this.toasts = this.toasts.filter(t => t.id !== toast.id);\r\n    });\r\n    this.dismissUnsubscribe = dismissSubscription.off;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    // Cleanup\r\n    if (this.createUnsubscribe) {\r\n      this.createUnsubscribe();\r\n    }\r\n\r\n    if (this.dismissUnsubscribe) {\r\n      this.dismissUnsubscribe();\r\n    }\r\n  }\r\n\r\n  handleDismiss(id: string) {\r\n    toast.dismissible(id);\r\n  }\r\n}\r\n\r\n// Export the core toast for direct usage\r\nexport const angularToast = toast;\r\n"],"names":["containers","Map","getAnimationKeyframes","type","direction","translateFrom","translateTo","stylesInjected","injectStyles","window","styleId","document","getElementById","style","createElement","id","innerHTML","head","appendChild","console","log","error","defaultOptions","duration","position","dismissible","pauseOnHover","customIcon","undefined","customClass","broToastifys","listeners","generateId","Date","now","toString","Math","random","substring","createBroToastify","options","mergedOptions","BroToastify","createdAt","set","has","existingContainer","get","body","contains","debug","container","className","setAttribute","top","right","left","transform","bottom","createContainer","emit","setTimeout","dismissBroToastify","Array","from","values","find","t","delete","onClose","on","event","callback","push","off","callbacks","index","indexOf","splice","data","forEach","toast","show","message","success","info","warning","loading","promises","promise","then","result","catch","isToastActive","dismiss","clearAll","broToastify","angularToast","newestOnTop","toasts","createUnsubscribe","dismissUnsubscribe","ngOnInit","createSubscription","this","dismissSubscription","filter","ngOnDestroy","handleDismiss","constructor"],"mappings":"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"}